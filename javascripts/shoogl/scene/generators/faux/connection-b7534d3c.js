(function(){var t,u=[].slice;t=namespace("shoogl.scene.generators.faux"),t.Connection=function(){function t(){var t,n,i,o,s;o=arguments[0],n=arguments[1],t=3<=arguments.length?u.call(arguments,2):[],this.output=o,this.input=n,this.name="Connection",s="<null>",null!=this.output&&(s=this.output.name),i="<null>",null!=this.input&&(i=this.input.name),this.description="Connecting "+s+" to "+i,this["in"]={},this.out={},null!=this.output&&null!=this.input?(this["in"]=this.output["in"],this.out=this.input.out,0===t.length?this._automatch_connection():this._create_connections(t)):this.output_to_input_map={}}return t.prototype.update=function(){var t,u,n,i;null!=this.output&&this.output.update(),i=this.output_to_input_map;for(u in i)t=i[u],n=shoogl.scene.generators.TypeTools.type_string(u),"v2"===n||"v3"===n||"v4"===n?this.input["in"][t].copy(this.output.out[u]):this.input["in"][t]=this.output.out[u];return null!=this.input?this.input.update():void 0},t.prototype._create_connections=function(t){var u,n,i,o,s,p,e,h,r,a;for(this.output_to_input_map={},u=shoogl.scene.generators.TypeTools,s=u.first_generator_output(this.output,"timestamp"),s&&t.push("timestamp:"),a=[],h=0,r=t.length;r>h;h++)p=t[h],n=p.split(":"),2===n.length?(o=n[0],i=n[1],o&&!i?(e=u.type_string(o),i=u.first_generator_input(this.input,e)):!o&&i?(e=u.type_string(i),o=u.first_generator_output(this.output,e)):o||i||(o=u.first_generator_output(this.output),e=u.type_string(o),i=u.first_generator_input(this.input,e)),null!=this.output.out[o]&&null!=this.input["in"][i]?a.push(this.output_to_input_map[o]=i):a.push(void 0)):a.push(void 0);return a},t.prototype._automatch_connection=function(){var t,u,n,i,o,s,p;this.output_to_input_map={},t=shoogl.scene.generators.TypeTools,s=this.output.out,p=[];for(n in s)o=s[n],i=t.type_string(n),u=t.first_generator_input(this.input,i),u?p.push(this.output_to_input_map[n]=u):p.push(void 0);return p},t}()}).call(this);