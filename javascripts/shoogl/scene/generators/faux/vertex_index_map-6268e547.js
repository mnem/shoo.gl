(function(){var t;t=namespace("shoogl.scene.generators.faux"),t.VertexIndexMap=function(){function t(t,e,n){var r,o,s;this.generator=t,this.generator_input=null!=e?e:null,this.generator_output=null!=n?n:null,this.name="VertexIndexMap",this.description=null!=this.generator?"Creates a map from vertex index to value generated by "+this.generator.name:"Creates a map from vertex index to value",(null==this.generator_input||null==(null!=(o=this.generator)?o["in"][this.generator_input]:void 0))&&(this.generator_input=shoogl.scene.generators.TypeTools.first_generator_input(this.generator,"i")),null==(null!=(s=this.generator)?s["in"][this.generator_input]:void 0)&&(this.generator_input=shoogl.scene.generators.TypeTools.first_generator_input(this.generator,"f")),null!=this.generator_output&&this.generator.out[this.generator_output]||(this.generator_output=shoogl.scene.generators.TypeTools.first_generator_output(this.generator)),this["in"]={source_geometry:null,updates_per_second:0},r=shoogl.scene.generators.TypeTools.type_string(this.generator_output),this._output_name="index_map_"+r,this.out={last_update_timestamp:Date.now()},this.out[this._output_name]=[],this._next_update=0}return t.prototype.update=function(){var t,e,n,r,o,s,i,a,u;if(null!=this["in"].source_geometry&&null!=(null!=(u=this.generator)?u.out[this.generator_output]:void 0)&&(r=this["in"].source_geometry.vertices.length,o=this.out[this._output_name],e=r!==o.length,this["in"].updates_per_second>0?(this._next_update!==this._next_update&&(this._next_update=0),n=Date.now(),n>=this._next_update&&(e=!0,s=1e3*this["in"].updates_per_second,i=s-(n-this._next_update),0>i&&(i=0),i>s&&(i=s),this._next_update=n+i)):this._last_update=0,e)){for(o.length=r,t=a=0;r>=0?r>a:a>r;t=r>=0?++a:--a)this.generator_input&&(this.generator["in"][this.generator_input]=t),this.generator.update(),o[t]=this.generator.out[this.generator_output];return this.out.last_update_timestamp=Date.now()}},t}()}).call(this);